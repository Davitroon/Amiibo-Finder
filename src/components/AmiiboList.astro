---
//  - Grid container for Amiibo cards -

import AmiiboCard from "../components/AmiiboCard.astro";

// Fetch Amiibo figures from API
const res = await fetch("https://amiiboapi.com/api/amiibo/?page=1&type=figure");
const json = await res.json();
const amiibos = json.amiibo.slice(0, 80);

// TypeScript interface
interface Amiibo {
	amiiboSeries: string;
	character: string;
	gameSeries: string;
	head: string;
	image: string;
	name: string;
	release: {
		au?: string;
		eu?: string;
		jp?: string;
		na?: string;
	};
	tail: string;
	type: string;
}
---

<section class="amiibo-grid">
	{amiibos.map((amiibo: Amiibo) => <AmiiboCard amiibo={amiibo} />)}
</section>
